(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1460)}])},1460:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var i=r(5893);class n{static getAvgPricing(e){if(!e)return NaN;for(let t of[{name:"monthly",months:1},{name:"quarterly",months:3},{name:"semiannually",months:6},{name:"annually",months:12},{name:"biennially",months:24},{name:"triennially",months:36}])if(t.name in e)return e[t.name]/t.months;return NaN}static convertStorageValue(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mb";return this.convertValue(e,t,r,this.units)}static convertStorageToMaxUnit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mb";return this.convertToMaxValue(e,t,this.units)}static convertNetworkValue(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mbps";return this.convertValue(e,t,r,this.networkUnits)}static convertNetworkToMaxUnit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mbps";return this.convertToMaxValue(e,t,this.networkUnits)}static convertValue(e,t,r,i){if("unmetered"==t)return Number.MAX_VALUE;if(!e||!t)return 0;let n=i.find(e=>e.unit==t),s=i.find(e=>e.unit==r);if(!n||!s)throw console.log(t),console.log(r),Error("Invalid unit");return e*n.value/s.value}static convertToMaxValue(e,t,r){if(e==Number.MAX_VALUE)return{value:Number.MAX_VALUE,unit:"unmetered"};if(0==e)return{value:0,unit:"unknown"};let i=r.findIndex(e=>e.unit===t),n=r[i].value,s=r[0];for(let t=i;t<r.length&&!(e/(r[t].value/n)<1);t++)s=r[t];return{value:parseFloat((e/(s.value/n)).toFixed(1)),unit:s.unit}}constructor(e,t){this.id=e,this.url=t.url,this.sales=t.sales,this.product=t.product,this.status=t.status,this.age=parseInt(t.status.age),this.lastAge=parseInt(t.status.lastAge);let r=t.spec.cpu;r?(this.cpuType=t.spec.cpu.type,this.cpuManufacturer=t.spec.cpu.mfr,this.cpuInfo=t.spec.cpu.info,this.cpuCores=t.spec.cpu.cores):(this.cpuType="unknown",this.cpuManufacturer="unknown",this.cpuInfo="unknown",this.cpuCores=0);let i=t.spec.drive;i?this.drive=n.convertStorageValue(i.value,i.unit):this.drive=0;let s=t.spec.ram;s?this.ram=n.convertStorageValue(t.spec.ram.value,t.spec.ram.unit):this.ram=0;let l=t.spec.bandwidth;l?this.bandwidth=n.convertStorageValue(t.spec.bandwidth.value,t.spec.bandwidth.unit):this.bandwidth=0;let a=t.spec.network;a?this.network=n.convertNetworkValue(t.spec.network.value,t.spec.network.unit):this.network=0,this.avgPrice=n.getAvgPricing(t.pricing)}}n.units=[{unit:"mb",value:1},{unit:"gb",value:1024},{unit:"tb",value:1048576}],n.networkUnits=[{unit:"mbps",value:1},{unit:"gbps",value:1024},{unit:"tbps",value:1048576}];let s=()=>new Headers;async function l(){let e=s(),t=[],r=null;try{let i=await fetch("https://raw.githubusercontent.com/KarsonJo/vps-data/main/racknerd-filtered.json",{method:"GET",headers:e}),s=await i.json();for(let[e,i]of(r=new a(s.meta),Object.entries(s.data)))t.push(new n(parseInt(e),i))}catch(e){console.error("Error fetching data:",e)}return[r,t]}class a{constructor(e){this.utcTime=new Date(e.utcTime)}}var c=r(911),d=r(2404);class o{static cpuTooltips(e,t,r){return t.getRow().getCell("cpuInfo").getValue()}static urlButtonFormatter(e,t,r){return d.renderToString((0,i.jsx)("button",{className:"p-2 m-auto",children:(0,i.jsx)("a",{className:"px-4 py-2 rounded shadow bg-rose-400 text-white",href:e.getValue(),target:"_blank",children:(0,i.jsx)("span",{children:"前往"})})}))}static displayMbFormatter(e,t,r){let i=n.convertStorageToMaxUnit(e.getValue());return 0==i.value?"unknown":i.value==Number.MAX_VALUE?"unlimited":i.value+i.unit}static displayMbpsFormatter(e,t,r){let i=n.convertNetworkToMaxUnit(e.getValue());return 0==i.value?"unknown":i.value==Number.MAX_VALUE?"unlimited":i.value+i.unit}static priceFormatter(e,t,r){let i=e.getValue();return isNaN(i)?"unknown":o.usdStrFromatter.format(i)}static cpuFormatter(e,t,r){let n=e.getValue();return d.renderToString((0,i.jsxs)("span",{className:"flex grow justify-around items-center",children:[(0,i.jsxs)("span",{children:[n||"?"," "]}),(0,i.jsx)("span",{className:"rounded-full border-2 text-green-500 border-green-500 shadow aspect-square h-6 emoji-mask flex items-center justify-center cursor-pointer",children:"❓"})]}))}minMaxFilterEditorProvider(e){return(t,r,i,n,s)=>{var l=document.createElement("span"),a=document.createElement("input");a.setAttribute("type",e),a.setAttribute("placeholder","min"),a.setAttribute("min","0px"),a.setAttribute("max","100px"),a.style.padding="4px",a.style.width="calc(50% - 2px)",a.style.boxSizing="border-box",a.value=t.getValue();var c=a.cloneNode();function d(){i({start:a.value,end:c.value})}function o(e){"Enter"==e.key&&d(),"Escape"==e.key&&n()}return c.setAttribute("placeholder","max"),c.style.marginLeft="4px",a.addEventListener("change",d),a.addEventListener("blur",d),a.addEventListener("keydown",o),c.addEventListener("change",d),c.addEventListener("blur",d),c.addEventListener("keydown",o),l.appendChild(a),l.appendChild(c),l}}minMaxNumberFilterFunction(e,t,r,i){let n=e.start?e.start:Number.MIN_VALUE,s=Math.max(n,e.end?e.end:Number.MAX_VALUE);return t>=n&&t<=s}minMaxStorageFilterFuncion(e,t,r,i){return"string"==typeof e.start&&(e.start=this.storageStringInputToNumber(e.start),e.end=this.storageStringInputToNumber(e.end)),this.minMaxNumberFilterFunction(e,t,r,i)}minMaxNetworkFilterFuncion(e,t,r,i){return"string"==typeof e.start&&(e.start=this.storageStringInputToNumber(e.start.replace("ps","")),e.end=this.storageStringInputToNumber(e.end.replace("ps",""))),this.minMaxNumberFilterFunction(e,t,r,i)}storageStringInputToNumber(e){let t=e.match(/^(\d*\.?\d+)(\D+)$/);if(t){let e=parseFloat(t[1]),r=t[2].toLowerCase();if(e<=0)return 0;if(["mb","gb","tb"].includes(r))return n.convertStorageValue(e,r);if(["m","g","t"].includes(r))return n.convertStorageValue(e,r+"b")}return 0}constructor(e,t,r={},i={}){c.hE.registerModule([c.tW,c.GS,c.WD,c.iL,c.BG,c.z8,c.Zj]),this.table=new c.hE(t,{movableColumns:!0,columnHeaderVertAlign:"bottom",layout:"fitColumns",height:"100%",columns:[{title:"type",field:"cpuType",vertAlign:"middle",minWidth:96,headerSort:!1,headerFilter:"list",headerFilterParams:{valuesLookup:"active"},headerFilterPlaceholder:"select..."},{title:"time",field:"age",vertAlign:"middle",minWidth:96,sorter:"number",visible:!!i.showTime&&i.showTime,headerFilter:"number",headerFilterPlaceholder:"max",headerFilterFunc:"<="},{title:"specifications",headerHozAlign:"center",columns:[{title:"cores",field:"cpuCores",vertAlign:"middle",minWidth:128,clickPopup:o.cpuTooltips,formatter:o.cpuFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("number"),headerFilterFunc:this.minMaxNumberFilterFunction,headerFilterLiveFilter:!1},{title:"mfr.",field:"cpuManufacturer",vertAlign:"middle",minWidth:96,headerFilter:"list",headerFilterParams:{valuesLookup:"active"}},{title:"ram",field:"ram",vertAlign:"middle",minWidth:128,formatter:o.displayMbFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("text"),headerFilterFunc:this.minMaxStorageFilterFuncion.bind(this),headerFilterLiveFilter:!1},{title:"drive",field:"drive",vertAlign:"middle",minWidth:128,formatter:o.displayMbFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("text"),headerFilterFunc:this.minMaxStorageFilterFuncion.bind(this),headerFilterLiveFilter:!1},{title:"transfer",field:"bandwidth",vertAlign:"middle",minWidth:128,formatter:o.displayMbFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("text"),headerFilterFunc:this.minMaxStorageFilterFuncion.bind(this),headerFilterLiveFilter:!1},{title:"network",field:"network",vertAlign:"middle",minWidth:128,formatter:o.displayMbpsFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("text"),headerFilterFunc:this.minMaxNetworkFilterFuncion.bind(this),headerFilterLiveFilter:!1}]},{title:"price",field:"avgPrice",vertAlign:"middle",minWidth:128,formatter:o.priceFormatter,sorter:"number",headerFilter:this.minMaxFilterEditorProvider("number"),headerFilterFunc:this.minMaxNumberFilterFunction,headerFilterLiveFilter:!1},{title:"",field:"url",vertAlign:"middle",minWidth:96,formatter:o.urlButtonFormatter,headerSort:!1},{title:"sales",field:"sales",vertAlign:"middle",widthShrink:0,headerFilter:"list",headerFilterParams:{valuesLookup:"active"},visible:!1},{title:"product",field:"product",vertAlign:"middle",widthShrink:0,headerFilter:"input",visible:!1},{title:"cpu info",field:"cpuInfo",vertAlign:"middle",headerFilter:"input",visible:!1}],data:e,...r})}}o.usdStrFromatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var u=r(9008),h=r.n(u),m=r(7294);function p(){let[e,t]=(0,m.useState)(null);return(0,m.useEffect)(()=>{(async function(){try{let[e,r]=await l();e&&t(e),new o(r,"#table-new-vps",{initialFilter:[{field:"age",type:"<=",value:30}],initialSort:[{column:"avgPrice",dir:"asc"},{column:"age",dir:"asc"}],pagination:!0},{showTime:!0}),new o(r,"#table-bargain-vps",{initialFilter:[{field:"avgPrice",type:"<=",value:1.5}],initialSort:[{column:"avgPrice",dir:"asc"}]}),new o(r,"#table-web-vps",{initialFilter:[{field:"cpuType",type:"=",value:"vps"},{field:"cpuCores",type:">=",value:2},{field:"cpuCores",type:"<=",value:4},{field:"ram",type:">=",value:n.convertStorageValue(2,"gb")},{field:"ram",type:"<=",value:n.convertStorageValue(8,"gb")}],initialSort:[{column:"avgPrice",dir:"asc"},{column:"ram",dir:"desc"},{column:"cpuCores",dir:"desc"}]}),new o(r,"#dedicated-server",{initialFilter:[{field:"cpuType",type:"=",value:"dedicated"}],initialSort:[{column:"avgPrice",dir:"asc"}]}),new o(r,"#all-server",{initialSort:[{column:"avgPrice",dir:"asc"}]})}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,i.jsxs)("main",{className:"mx-auto max-w-7xl prose p-5 bg-slate-50",children:[(0,i.jsxs)(h(),{children:[(0,i.jsx)("title",{children:"Racknerd服务器列表 | Racknerd Server List"}),(0,i.jsx)("meta",{name:"description",content:"定时自动更新Racknerd在售服务器列表 | Timed Automatic Updates for Racknerd On-Sale Servers"}),(0,i.jsx)("meta",{name:"keywords",content:"Racknerd, VPS, dedicated server, 独立服务器, 科学上网"})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{children:"Racknerd服务器看板"}),(0,i.jsxs)("div",{className:"rounded-lg shadow-lg border text-sm px-4 bg-white text-slate-700 sm:py-5 sm:px-10 sm:text-base",children:[(0,i.jsxs)("div",{className:"flex flex-wrap gap-20",children:[(0,i.jsxs)("ul",{className:"[&>li]:list-decimal",children:[(0,i.jsx)("li",{children:"信息可能不准确、缺失，详情以官网信息为准"}),(0,i.jsx)("li",{children:"点击CPU项，可显示具体的CPU型号（独服）"}),(0,i.jsx)("li",{children:"价格均为折合月均价格，可能不支持月付"}),(0,i.jsx)("li",{children:"排序为简单排序，无数据分析，请自行甄别"}),(0,i.jsx)("li",{children:"每列头部均有筛选器，可输入数量+单位筛选"})]}),(0,i.jsxs)("ul",{className:"[&>li]:list-decimal",children:[(0,i.jsx)("li",{children:"Info might be incomplete. Check official site for accuracy."}),(0,i.jsx)("li",{children:"Click CPU for specific model (dedicated server)."}),(0,i.jsx)("li",{children:"Prices are monthly averages."}),(0,i.jsx)("li",{children:"Sorting is basic; rankings not data-analyzed; use discretion."}),(0,i.jsx)("li",{children:"Column headers have number + unit filters."})]})]}),(0,i.jsx)("hr",{}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{children:"更多奇技淫巧："}),(0,i.jsx)("a",{className:"hover:text-rose-500",href:"https://www.karsonjo.com",children:"我的博客"})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{children:"数据最后更新于："}),(0,i.jsx)("span",{children:null==e?void 0:e.utcTime.toLocaleString(void 0,{timeZoneName:"short"})})]})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"Racknerd所有机器可在LowEndTalk回帖申请流量翻倍"})})]})]}),(0,i.jsxs)("article",{className:"",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"",children:"新上小鸡"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"最近上架、补货的机器"}),(0,i.jsxs)("li",{children:["相对于记录时间起算",(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"开始记录时视所有商品为新商品"}),(0,i.jsx)("li",{children:"新上、新补货的商品排名靠前"})]})]})]})]}),(0,i.jsx)("section",{className:"shadow-lg h-[60vh] rose-500 not-prose",children:(0,i.jsx)("div",{className:"",id:"table-new-vps"})})]}),(0,i.jsxs)("article",{className:"",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"",children:"便宜小鸡"}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"平均月租不高于1.5刀的vps"})})]}),(0,i.jsx)("section",{className:"shadow-lg h-[60vh] rose-500 not-prose",children:(0,i.jsx)("div",{className:"",id:"table-bargain-vps"})})]}),(0,i.jsxs)("article",{className:"",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"",children:"建站好鸡"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"cpu处于2c-4c之间"}),(0,i.jsx)("li",{children:"内存处于2g-8g之间"}),(0,i.jsx)("li",{children:"同等情况价格升序"})]})]}),(0,i.jsx)("section",{className:"shadow-lg h-[60vh] rose-500 not-prose",children:(0,i.jsx)("div",{className:"",id:"table-web-vps"})})]}),(0,i.jsxs)("article",{className:"",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"",children:"杜甫"}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"独立服务器一览"})})]}),(0,i.jsx)("section",{className:"shadow-lg h-[80vh] rose-500 not-prose",children:(0,i.jsx)("div",{className:"",id:"dedicated-server"})})]}),(0,i.jsxs)("article",{className:"",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{className:"",children:"所有服务器"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"所有服务器一览"}),(0,i.jsx)("li",{children:"可能有遗漏，请按官网为准"})]})]}),(0,i.jsx)("section",{className:"shadow-lg h-[80vh] rose-500 not-prose",children:(0,i.jsx)("div",{className:"",id:"all-server"})})]})]})}},9008:function(e,t,r){e.exports=r(2636)}},function(e){e.O(0,[774,313,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);